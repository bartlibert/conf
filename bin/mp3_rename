#!/bin/bash

for file in *.mp3; do
    INFO=$(id3info "${file}")
    TRACK_NUM=$(echo "${INFO}" | grep TRCK | cut -d":" -f2 | sed 's/ //')
    ARTIST=$(echo "${INFO}" | grep TPE1 | cut -d":" -f2 | sed 's/ //')
    NAME=$(echo "${INFO}" | grep TIT2 | cut -d":" -f2 | sed 's/ //')

    mv "${file}" "$(printf "%02d - %s - %s.mp3" "${TRACK_NUM}" "${ARTIST}" "${NAME}" | sed 's:/:_:g')"
done
